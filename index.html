<!doctype html>
<html>
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width" />
		<title>Training App</title>
		
		<link rel="stylesheet" href="assets/css/master.css" type="text/css" media="screen" />
		
		<style>
			.ui-anim-move-left { width: 145px; height: 260px; margin: 0.4em; position: relative; float: left; background-color:#f00;}
		</style>
		<link rel="stylesheet" href="assets/js/jquery.mobile-1.1.0/jquery.mobile-1.1.0.min.css" />
		
		<script src="phonegap.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/xui.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/lawnchair/adaptors/LawnchairAdaptorHelpers.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/lawnchair/adaptors/DOMStorageAdaptor.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/lawnchair/adaptors/WebkitSQLiteAdaptor.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/lawnchair/Lawnchair.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/dsl.js" type="text/javascript" charset="utf-8"></script>
		<script src="assets/js/app.js" type="text/javascript" charset="utf-8"></script>
		
		<script type="text/javascript" src="assets/js/jquery-1.7.1.min.js"></script>
		<script type="text/javascript" src="assets/js/jquery.mobile-1.1.0/jquery.mobile-1.1.0.min.js"></script>
		<script type="text/javascript" src="assets/js/plugins/CSSPlugin.min.js"></script>
		<script type="text/javascript" src="assets/js/easing/EasePack.min.js"></script>
		<script type="text/javascript" src="assets/js/TweenLite.min.js"></script>
		<script type="text/javascript" src="assets/js/TimelineLite.min.js"></script>
		
		<script>
		
		$(document).delegate("#test", "pageinit", function(){
			var divs = [];
			container = document.getElementById("container")
			
			//should have access directly to dom elements
			//animating through jquery selectors cause to navigate dom every animate() step, loses performance
			function createDivs() {
				var i = 6;
				var newDiv;
				while (--i > -1) {
					newDiv = document.createElement("div");
					newDiv.className = "ui-anim-move-left";
					newDiv.id = "anim" + i;
					container.appendChild(newDiv);
					divs.push(newDiv);
				}	
			} 
			
			$(document).delegate("#anim_button", "click", function(){
			
				//alert("animar windows width:"+$(window).width()+" itens:"+ $(".ui-anim-move-left").length);
				var tl = new TimelineLite();
				//tl.staggerFrom( $(".ui-anim-move-left"), 1, {css:{left:$(window).width()}, ease:Elastic.easeOut.config(0.5, 1)}, 0.1);
				tl.staggerFrom( divs, 1, {css:{left:$(window).width()}, ease:Elastic.easeOut.config(0.5, 1)}, 0.1);
			});		

			createDivs();
			
			//alert("animar windows width:"+$(window).width()+" itens:"+ $(".ui-anim-move-left").length);
			var tl = new TimelineLite();
			//tl.staggerFrom( $(".ui-anim-move-left"), 1, {css:{left:$(window).width()}, ease:Elastic.easeOut.config(0.5, 1)}, 0.1);
			tl.staggerFrom( divs, 1, {css:{left:$(window).width()}, ease:Elastic.easeOut.config(0.5, 1)}, 0.1);

		});

		</script>
	</head>
	<body>
 		
		<div id="test" data-role="page">
		
			<div data-role="header">
				<h1>Page Title</h1>
				<div id="title_bar">Phone<strong>Gap</strong> Training App</div>
			</div><!-- /header -->

			<div id="container" data-role="content" class="content">	

				<div style="clear:both;"></div>
				<div id="welcome" class="view">
				  <div class="app_button" id="anim_button">anim</div>
				  <div class="app_button" id="map_button">Show My Location</div>
				  <div class="app_button" id="settings_button">Settings</div>
				</div>

				<div id="map" class="view">
				  <div class="map_image">
					  <img id="static_map" src="assets/img/staticmap.png">
				  </div>
				  <p>This is where you are</p>
				  <div class="app_button" id="welcome_button">Go Back</div>
				</div>

				<div id="settings" class="view">
				  <form id="settings_form">
					<fieldset>
					  <legend>Map Type</legend>
					  <input type="radio" name="map" value="roadmap" checked>Road Map<br/>
					  <input type="radio" name="map" value="satellite">Satellite<br/>
					  <input type="radio" name="map" value="terrain">Terrain<br/>
					  <input type="radio" name="map" value="hybrid">Hybrid<br/>
					</fieldset>
					<fieldset>
					  <legend>Zoom Level</legend>
					  <input type="radio" name="zoom" value="10">Super Far<br/>
					  <input type="radio" name="zoom" value="12">Far<br/>
					  <input type="radio" name="zoom" value="15" checked>Normal<br/>
					  <input type="radio" name="zoom" value="18">Close<br/>
					  <input type="radio" name="zoom" value="20">Super Close<br/>
					 </fieldset>
					  <button id="save_button">Save</button>
				  </form>
				</div>
			</div><!-- /content -->
			
			<div data-role="footer">
				<h4>Page Footer</h4>
			</div><!-- /footer -->
		</div><!-- /page -->		
	</body>
</html>